@import "tailwindcss";
@import "./themes.css";

@theme inline {
  --color-primary: var(--muse-primary);
  --color-primary-hover: var(--muse-primary-hover);
  --color-success: var(--muse-success);
  --color-border: var(--muse-border);
  --color-border-light: var(--muse-border-light);
  --color-bg: var(--muse-bg);
  --color-bg-muted: var(--muse-bg-muted);
  --color-bg-subtle: var(--muse-bg-subtle);
  --color-text: var(--muse-text);
  --color-text-muted: var(--muse-text-muted);
  --color-text-subtle: var(--muse-text-subtle);
  --color-user-bg: var(--muse-user-bg);
  --color-user-border: var(--muse-user-border);
  --font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
}

* {
  box-sizing: border-box;
}

html, body, #root {
  height: 100%;
  margin: 0;
  padding: 0;
}

@layer components {
  .muse-paragraph { @apply mb-2; }
  .muse-bold { @apply font-bold; }
  .muse-italic { @apply italic; }
  .muse-underline { @apply underline; }
  .muse-strikethrough { @apply line-through; }
  .muse-link { @apply text-blue-600 underline hover:text-blue-800 cursor-pointer; }
  .muse-list-ul { @apply list-disc pl-6 my-2; }
  .muse-list-ol { @apply list-decimal pl-6 my-2; }
  .muse-listitem { @apply mb-1; }
  .muse-h1 { @apply text-3xl font-bold mb-4; }
  .muse-h2 { @apply text-2xl font-bold mb-3; }
  .muse-h3 { @apply text-xl font-bold mb-2; }
  .muse-content { @apply min-h-[200px] p-4 outline-none flex-1 overflow-y-auto; }

  /* Base overflow protection for all section inputs */
  .muse-section input,
  .muse-section textarea {
    overflow-wrap: break-word;
    word-wrap: break-word;
  }
  .muse-section textarea {
    resize: none;
    overflow: hidden;
  }

  .muse-toolbar {
    @apply flex gap-1 p-2 border-b border-border bg-bg-muted;
  }
  .muse-toolbar button {
    @apply px-2 py-1 bg-bg border border-border rounded cursor-pointer hover:bg-border;
  }
  .muse-toolbar-divider {
    @apply w-px bg-border mx-1;
  }

  .muse-section-editor {
    @apply flex flex-col;
    gap: var(--muse-theme-section-gap, 1rem);
  }
  .muse-section-editor-empty {
    @apply text-text-subtle text-center py-8;
  }
  @keyframes muse-fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  .muse-section {
    @apply relative;
    animation: muse-fade-in 0.3s ease-out;
  }

  .muse-agent-summary {
    animation: muse-fade-in 0.3s ease-out;
  }

  .muse-section:hover {
    outline: 1px solid rgb(var(--color-primary) / 0.3);
    outline-offset: -1px;
  }
  .muse-section-controls {
    @apply absolute top-2 right-2 z-10 flex gap-1 opacity-0 transition-opacity;
  }
  .muse-section:hover .muse-section-controls {
    @apply opacity-100;
  }
  .muse-section-delete {
    @apply w-6 h-6 flex items-center justify-center bg-white border border-gray-200 rounded-md text-gray-400 cursor-pointer shadow-sm transition-colors;
  }
  .muse-section-delete:hover {
    @apply border-gray-300 text-gray-600;
  }
  .muse-section--unknown {
    @apply p-4 bg-bg-muted text-text-muted;
  }
}
